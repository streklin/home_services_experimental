<?xml version="1.0" encoding="UTF-8"?>

<robot name="rover" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:include filename="$(find rover_platform)/urdf/rover.gazebo" />

  <link name="robot_footprint"></link>

  <link name="chassis">
    <pose>0 0 0 0 0 0</pose>

    <inertial>
      <mass value="15.0"/>
      <origin xyz="0.0 0 0" rpy=" 0 0 0"/>
      <inertia
          ixx="0.1" ixy="0" ixz="0"
          iyy="0.1" iyz="0"
          izz="0.1"
      />
    </inertial>

    <collision name="drive_train_collision">
      <origin xyz="0 0 0" rpy="0 0 0" />

      <geometry>
        <box size="0.25 0.3 0.1" />
      </geometry>
    </collision>

    <visual name="drive_train_visual">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.25 0.3 0.1" />
      </geometry>
    </visual>

  </link>

  <link name="payload_platform">
    <pose>0 0 0 0 0 0</pose>

    <inertial>
      <mass value="1.0"/>
      <origin xyz="0.0 0 0" rpy=" 0 0 0"/>
      <inertia
          ixx="0.1" ixy="0" ixz="0"
          iyy="0.1" iyz="0"
          izz="0.1"
      />
    </inertial>

    <collision name="payload_collision">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.25 0.2 0.01" />
      </geometry>
    </collision>

    <visual name="payload_visual">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.25 0.2 0.01" />
      </geometry>
    </visual>

  </link>

  <link name="sensor_ux_beam">
    <pose>0 0 0 0 0 0</pose>

    <inertial>
      <mass value="1.0"/>
      <origin xyz="0.0 0 0" rpy=" 0 0 0"/>
      <inertia
          ixx="0.1" ixy="0" ixz="0"
          iyy="0.1" iyz="0"
          izz="0.1"
      />
    </inertial>

    <collision name="sensor_ux_bar_collision">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <cylinder radius="0.025" length="0.5" />
      </geometry>
    </collision>

    <visual name="sensor_ux_bar_visual">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <cylinder radius="0.015" length="0.3" />
      </geometry>
    </visual>

    <collision name="sensor_ux_tablet_collision">
      <origin xyz="0 0 0.2" rpy="0 0 0" />
      <geometry>
        <box size="0.01 0.25 0.35" />
      </geometry>
    </collision>

    <visual name="sensor_ux_tablet_visual">
      <origin xyz="0 0 0.2" rpy="0 0 0" />
      <geometry>
        <box size="0.01 0.1 0.15" />
      </geometry>
    </visual>

  </link>

  <link name="back_left_wheel">
    <pose>0 0 0 0 1.5707 0</pose>

		<inertial>
			<mass value="5.0"/>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<inertia
          			ixx="0.1" ixy="0" ixz="0"
          			iyy="0.1" iyz="0"
          			izz="0.1"
      			/>
		</inertial>

    <collision name="black_left_wheel_collision">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </collision>

    <visual name="black_left_wheel_visual">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </visual>

  </link>

  <link name="front_left_wheel">
    <pose>0 0 0 0 1.5707 0</pose>

    <inertial>
			<mass value="5.0"/>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<inertia
          			ixx="0.1" ixy="0" ixz="0"
          			iyy="0.1" iyz="0"
          			izz="0.1"
      			/>
		</inertial>

    <collision name="front_left_wheel_collision">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </collision>

    <visual name="front_left_wheel_visual">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </visual>

  </link>

  <link name="back_right_wheel">
    <pose>0 0 0 0 1.5707 0</pose>

    <inertial>
      <mass value="5.0"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia
                ixx="0.1" ixy="0" ixz="0"
                iyy="0.1" iyz="0"
                izz="0.1"
            />
    </inertial>

    <collision name="back_right_wheel_collision">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </collision>

    <visual name="back_right_wheel_visual">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </visual>

  </link>

  <link name="front_right_wheel">
    <pose>0 0 0 0 1.5707 0</pose>

    <inertial>
      <mass value="5.0"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia
                ixx="0.1" ixy="0" ixz="0"
                iyy="0.1" iyz="0"
                izz="0.1"
            />
    </inertial>

    <collision name="front_right_wheel_collision">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </collision>

    <visual name="front_right_wheel_visual">
      <origin xyz="0 0 0" rpy="0 1.5707 0" />
      <geometry>
        <cylinder radius="0.08" length="0.02" />
      </geometry>
    </visual>

  </link>

  <link name="camera">
    <pose>0 0 0 0 0 0</pose>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.01 0.01 0.01" />
      </geometry>
    </collision>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.01 0.01 0.01" />
      </geometry>
    </visual>
  </link>

  <link name="hokuyo">
	    <pose>0 0 0 0 0 0</pose>
	    <inertial>
	       <mass value="0.1"/>
	       <origin xyz="0 0 0" rpy="0 0 0"/>
	       <inertia
		 ixx="1e-6" ixy="0" ixz="0"
		 iyy="1e-6" iyz="0"
		 izz="1e-6"
		/>
	    </inertial>

	    <collision>
	       <origin xyz="0 0 0" rpy="0 0 0"/>
	       <geometry>
		         <box size="0.1 0.1 0.1" />
	       </geometry>
	    </collision>

	    <visual>
	       <origin xyz="0 0 0" rpy="0 0 0"/>
	       <geometry>
		         <mesh filename="package://rover_platform/meshes/hokuyo.dae"/>
	       </geometry>
	    </visual>
	  </link>

  <joint name="robot_footprint_chassis_joint" type="fixed">
    <origin xyz="0 0 0" rpy="0 0 0" />
    <parent link="robot_footprint" />
    <child link="chassis" />
  </joint>

  <joint name="chassis_hokuyo_joint" type="fixed">
      <origin xyz="0 -0.1 0.15" rpy="0 0 -1.5707"/>
	    <child link="hokuyo"/>
	    <parent link="chassis"/>
      <axis xyz="0 1 0" rpy="0 0 0"/>
  </joint>

  <joint name="chassis_payload_joint" type="fixed">
    <origin xyz="0 -0.05 0.1" rpy="0 0 0" />
    <parent link="chassis" />
    <child link="payload_platform" />
  </joint>

  <joint name="chassis_sensor_ux_joint" type="fixed">
    <origin xyz="0 -0.05 0.2" rpy="0 0 1.57" />
    <parent link="chassis" />
    <child link="sensor_ux_beam" />
  </joint>

  <joint name="sensor_ux_camera_joint" type="fixed">
    <origin xyz="-0.01 0 0.25" rpy="0 0 3.14159" />
    <parent link="sensor_ux_beam" />
    <child link="camera" />
    <axis xyz="0 1 0" rpy="0 0 0"/>
  </joint>

  <joint name="chassis_left_back_wheel_joint" type="continuous">
    <origin xyz="-0.15 -0.1 0" rpy="0 0 0"/>
    <child link="back_left_wheel" />
    <parent link="chassis"/>
    <axis xyz="1 0 0" rpy="0 0 0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>

  <joint name="chassis_left_front_wheel_joint" type="continuous">
    <origin xyz="-0.15 0.1 0" rpy="0 0 0"/>
    <child link="front_left_wheel" />
    <parent link="chassis"/>
    <axis xyz="1 0 0" rpy="0 0 0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>

  <joint name="chassis_right_back_wheel_joint" type="continuous">
    <origin xyz="0.15 -0.1 0" rpy="0 0 0"/>
    <child link="back_right_wheel" />
    <parent link="chassis"/>
    <axis xyz="1 0 0" rpy="0 0 0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>

  <joint name="chassis_right_front_wheel_joint" type="continuous">
    <origin xyz="0.15 0.1 0" rpy="0 0 0"/>
    <child link="front_right_wheel" />
    <parent link="chassis"/>
    <axis xyz="1 0 0" rpy="0 0 0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>

</robot>
